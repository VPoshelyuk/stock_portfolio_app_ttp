{"ast":null,"code":"var _jsxFileName = \"/Users/slavaP/Desktop/TTP/stock_portfolio_frontend/src/StocksContainer.js\";\nimport React from \"react\";\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { setUser } from './redux/actions/user_actions';\nimport Noty from 'noty';\nimport \"../node_modules/noty/lib/noty.css\";\nimport \"../node_modules/noty/lib/themes/mint.css\";\n\nclass StocksContainer extends React.Component {\n  componentDidMount() {\n    fetch(\"http://localhost:3000/api/v1/user_all\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json\"\n      },\n      body: JSON.stringify({\n        user_id: this.props.currentUser.id\n      })\n    }).then(res => res.json()).then(response => {\n      console.log(response);\n\n      if (response.error) {\n        new Noty({\n          text: `${response.error}`,\n          layout: \"bottomRight\",\n          type: \"alert\",\n          timeout: 5000,\n          progressBar: false,\n          closeWith: [\"click\", \"button\"]\n        }).show();\n      } else {\n        this.setState({\n          current_buy: {\n            stock_info: response.stock_info,\n            new_balance: response.new_balance\n          }\n        });\n        let notif = new Noty({\n          text: `${response.message}`,\n          layout: \"bottomRight\",\n          buttons: [Noty.button('YES', 'btn btn-success', () => this.handleConfirmation(notif)), Noty.button('NO', 'btn btn-error', function () {\n            notif.close();\n          })]\n        }).show();\n      }\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    });\n  }\n\n}\n\nfunction msp(state) {\n  return {\n    currentUser: state.currentUser\n  };\n}\n\nexport default connect(msp, {\n  setUser\n})(StocksContainer);","map":{"version":3,"sources":["/Users/slavaP/Desktop/TTP/stock_portfolio_frontend/src/StocksContainer.js"],"names":["React","Redirect","connect","setUser","Noty","StocksContainer","Component","componentDidMount","fetch","method","headers","body","JSON","stringify","user_id","props","currentUser","id","then","res","json","response","console","log","error","text","layout","type","timeout","progressBar","closeWith","show","setState","current_buy","stock_info","new_balance","notif","message","buttons","button","handleConfirmation","close","render","msp","state"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,OAAT,QAAwB,8BAAxB;AAEA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAO,mCAAP;AACA,OAAO,0CAAP;;AAEA,MAAMC,eAAN,SAA8BL,KAAK,CAACM,SAApC,CAA6C;AACzCC,EAAAA,iBAAiB,GAAE;AACfC,IAAAA,KAAK,CAAC,uCAAD,EAA0C;AAC3CC,MAAAA,MAAM,EAAE,MADmC;AAE3CC,MAAAA,OAAO,EAAE;AACL,wBAAgB,kBADX;AAEL,kBAAU;AAFL,OAFkC;AAM3CC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAACC,QAAAA,OAAO,EAAE,KAAKC,KAAL,CAAWC,WAAX,CAAuBC;AAAjC,OAAf;AANqC,KAA1C,CAAL,CAQCC,IARD,CAQMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EARb,EASCF,IATD,CASMG,QAAQ,IAAI;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;;AACA,UAAGA,QAAQ,CAACG,KAAZ,EAAkB;AACd,YAAIpB,IAAJ,CAAS;AACLqB,UAAAA,IAAI,EAAG,GAAEJ,QAAQ,CAACG,KAAM,EADnB;AAELE,UAAAA,MAAM,EAAE,aAFH;AAGLC,UAAAA,IAAI,EAAE,OAHD;AAILC,UAAAA,OAAO,EAAE,IAJJ;AAKLC,UAAAA,WAAW,EAAE,KALR;AAMLC,UAAAA,SAAS,EAAE,CAAC,OAAD,EAAU,QAAV;AANN,SAAT,EAOGC,IAPH;AAQH,OATD,MASO;AACH,aAAKC,QAAL,CAAc;AACVC,UAAAA,WAAW,EAAE;AACTC,YAAAA,UAAU,EAAEb,QAAQ,CAACa,UADZ;AAETC,YAAAA,WAAW,EAAEd,QAAQ,CAACc;AAFb;AADH,SAAd;AAMA,YAAIC,KAAK,GAAG,IAAIhC,IAAJ,CAAS;AACjBqB,UAAAA,IAAI,EAAG,GAAEJ,QAAQ,CAACgB,OAAQ,EADT;AAEjBX,UAAAA,MAAM,EAAE,aAFS;AAGjBY,UAAAA,OAAO,EAAE,CACLlC,IAAI,CAACmC,MAAL,CAAY,KAAZ,EAAmB,iBAAnB,EAAsC,MAAM,KAAKC,kBAAL,CAAwBJ,KAAxB,CAA5C,CADK,EAELhC,IAAI,CAACmC,MAAL,CAAY,IAAZ,EAAkB,eAAlB,EAAmC,YAAY;AAACH,YAAAA,KAAK,CAACK,KAAN;AAAc,WAA9D,CAFK;AAHQ,SAAT,EAOPV,IAPO,EAAZ;AAQH;AACJ,KApCD;AAqCH;;AAEDW,EAAAA,MAAM,GAAE;AACJ,WACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA;AAIH;;AA9CwC;;AAiD7C,SAASC,GAAT,CAAaC,KAAb,EAAmB;AACf,SAAO;AACL5B,IAAAA,WAAW,EAAE4B,KAAK,CAAC5B;AADd,GAAP;AAGH;;AAED,eAAed,OAAO,CAACyC,GAAD,EAAM;AAAExC,EAAAA;AAAF,CAAN,CAAP,CAA0BE,eAA1B,CAAf","sourcesContent":["import React from \"react\";\nimport { Redirect } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { setUser } from './redux/actions/user_actions'\n\nimport Noty from 'noty';  \nimport \"../node_modules/noty/lib/noty.css\";  \nimport \"../node_modules/noty/lib/themes/mint.css\";\n\nclass StocksContainer extends React.Component{\n    componentDidMount(){\n        fetch(\"http://localhost:3000/api/v1/user_all\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Accept\": \"application/json\"\n            },\n            body: JSON.stringify({user_id: this.props.currentUser.id})\n        })\n        .then(res => res.json())\n        .then(response => {\n            console.log(response)\n            if(response.error){\n                new Noty({  \n                    text: `${response.error}`,\n                    layout: \"bottomRight\",\n                    type: \"alert\",\n                    timeout: 5000,\n                    progressBar: false,\n                    closeWith: [\"click\", \"button\"]\n                }).show()\n            } else {\n                this.setState({\n                    current_buy: {\n                        stock_info: response.stock_info,\n                        new_balance: response.new_balance\n                    }\n                })\n                let notif = new Noty({  \n                    text: `${response.message}`,\n                    layout: \"bottomRight\",\n                    buttons: [\n                        Noty.button('YES', 'btn btn-success', () => this.handleConfirmation(notif)),\n                        Noty.button('NO', 'btn btn-error', function () {notif.close()})\n                      ]\n                  }).show()\n            }\n        })\n    }\n\n    render(){\n        return (\n        <div>\n        </div>\n        );\n    }\n}\n\nfunction msp(state){\n    return {\n      currentUser: state.currentUser\n    }\n}\n\nexport default connect(msp, { setUser })(StocksContainer)"]},"metadata":{},"sourceType":"module"}