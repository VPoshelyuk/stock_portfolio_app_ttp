{"ast":null,"code":"var _jsxFileName = \"/Users/slavaP/Desktop/labs/=MOD4/practice/src/CardsContainer.js\";\nimport React from \"react\";\nimport Card from './Card';\nexport default class CardsContainer extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      nearestEvents: [],\n      upcomingEvents: [],\n      randomBoroughEvents: [],\n      loaded: false\n    };\n  }\n\n  componentDidMount() {\n    switch (this.props.id) {\n      case 1:\n        const options = {\n          enableHighAccuracy: true,\n          timeout: 5000,\n          maximumAge: 0\n        };\n\n        const success = pos => {\n          const crd = pos.coords;\n          fetch(\"http://localhost:3000/api/v1/events\", {\n            method: \"POST\",\n            headers: {\n              accepts: \"application/json\",\n              \"content-type\": \"application/json\"\n            },\n            body: JSON.stringify({\n              latitude: crd.latitude,\n              longitude: crd.longitude\n            })\n          }).then(resp => resp.json()).then(data => this.setState({\n            nearestEvents: data.Events.Event.slice(0, 5),\n            loaded: true\n          }));\n        };\n\n        const error = err => {\n          console.warn(\"ERROR(\".concat(err.code, \"): \").concat(err.message));\n        };\n\n        navigator.geolocation.getCurrentPosition(success, error, options);\n        break;\n\n      case 2:\n        fetch(\"http://localhost:3000/api/v1/events\", {\n          method: \"POST\",\n          headers: {\n            accepts: \"application/json\",\n            \"content-type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            latitude: 40.694669,\n            longitude: -73.9784867\n          })\n        }).then(resp => resp.json()).then(data => this.setState({\n          nearestEvents: data.Events.Event,\n          loaded: true\n        }));\n        break;\n\n      case 3:\n        fetch(\"http://localhost:3000/api/v1/events\", {\n          method: \"POST\",\n          headers: {\n            accepts: \"application/json\",\n            \"content-type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            latitude: 40.721952,\n            longitude: -74.000144\n          })\n        }).then(resp => resp.json()).then(data => this.setState({\n          nearestEvents: data.Events.Event,\n          loaded: true\n        }));\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, this.state.loaded ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, this.state.nearestEvents !== undefined ? this.state.nearestEvents.map(event => React.createElement(Card, {\n      event: event,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    })) : null, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"More info\")) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"Loading...\")));\n  }\n\n}","map":{"version":3,"sources":["/Users/slavaP/Desktop/labs/=MOD4/practice/src/CardsContainer.js"],"names":["React","Card","CardsContainer","Component","state","nearestEvents","upcomingEvents","randomBoroughEvents","loaded","componentDidMount","props","id","options","enableHighAccuracy","timeout","maximumAge","success","pos","crd","coords","fetch","method","headers","accepts","body","JSON","stringify","latitude","longitude","then","resp","json","data","setState","Events","Event","slice","error","err","console","warn","code","message","navigator","geolocation","getCurrentPosition","render","undefined","map","event"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AAEA,eAAe,MAAMC,cAAN,SAA6BF,KAAK,CAACG,SAAnC,CAA4C;AAAA;AAAA;AAAA,SACvDC,KADuD,GAC/C;AACJC,MAAAA,aAAa,EAAE,EADX;AAEJC,MAAAA,cAAc,EAAE,EAFZ;AAGJC,MAAAA,mBAAmB,EAAE,EAHjB;AAIJC,MAAAA,MAAM,EAAE;AAJJ,KAD+C;AAAA;;AAQvDC,EAAAA,iBAAiB,GAAE;AACf,YAAQ,KAAKC,KAAL,CAAWC,EAAnB;AACI,WAAK,CAAL;AACI,cAAMC,OAAO,GAAG;AACZC,UAAAA,kBAAkB,EAAE,IADR;AAEZC,UAAAA,OAAO,EAAE,IAFG;AAGZC,UAAAA,UAAU,EAAE;AAHA,SAAhB;;AAKA,cAAMC,OAAO,GAAGC,GAAG,IAAI;AACnB,gBAAMC,GAAG,GAAGD,GAAG,CAACE,MAAhB;AACAC,UAAAA,KAAK,wCAAuC;AACxCC,YAAAA,MAAM,EAAE,MADgC;AAExCC,YAAAA,OAAO,EAAC;AACJC,cAAAA,OAAO,EAAE,kBADL;AAEJ,8BAAgB;AAFZ,aAFgC;AAMxCC,YAAAA,IAAI,EAACC,IAAI,CAACC,SAAL,CAAe;AAChBC,cAAAA,QAAQ,EAAET,GAAG,CAACS,QADE;AAEhBC,cAAAA,SAAS,EAAEV,GAAG,CAACU;AAFC,aAAf;AANmC,WAAvC,CAAL,CAWCC,IAXD,CAWMC,IAAI,IAAIA,IAAI,CAACC,IAAL,EAXd,EAYCF,IAZD,CAYMG,IAAI,IAAI,KAAKC,QAAL,CAAc;AAAC5B,YAAAA,aAAa,EAAE2B,IAAI,CAACE,MAAL,CAAYC,KAAZ,CAAkBC,KAAlB,CAAwB,CAAxB,EAA2B,CAA3B,CAAhB;AAA+C5B,YAAAA,MAAM,EAAE;AAAvD,WAAd,CAZd;AAaH,SAfD;;AAiBA,cAAM6B,KAAK,GAAGC,GAAG,IAAI;AACjBC,UAAAA,OAAO,CAACC,IAAR,iBAAsBF,GAAG,CAACG,IAA1B,gBAAoCH,GAAG,CAACI,OAAxC;AACH,SAFD;;AAIAC,QAAAA,SAAS,CAACC,WAAV,CAAsBC,kBAAtB,CAAyC7B,OAAzC,EAAkDqB,KAAlD,EAAyDzB,OAAzD;AACA;;AACJ,WAAK,CAAL;AACIQ,QAAAA,KAAK,wCAAuC;AACxCC,UAAAA,MAAM,EAAE,MADgC;AAExCC,UAAAA,OAAO,EAAC;AACJC,YAAAA,OAAO,EAAE,kBADL;AAEJ,4BAAgB;AAFZ,WAFgC;AAMxCC,UAAAA,IAAI,EAACC,IAAI,CAACC,SAAL,CAAe;AAChBC,YAAAA,QAAQ,EAAE,SADM;AAEhBC,YAAAA,SAAS,EAAE,CAAC;AAFI,WAAf;AANmC,SAAvC,CAAL,CAWCC,IAXD,CAWMC,IAAI,IAAIA,IAAI,CAACC,IAAL,EAXd,EAYCF,IAZD,CAYMG,IAAI,IAAI,KAAKC,QAAL,CAAc;AAAC5B,UAAAA,aAAa,EAAE2B,IAAI,CAACE,MAAL,CAAYC,KAA5B;AAAmC3B,UAAAA,MAAM,EAAE;AAA3C,SAAd,CAZd;AAaA;;AACJ,WAAK,CAAL;AACIY,QAAAA,KAAK,wCAAuC;AACxCC,UAAAA,MAAM,EAAE,MADgC;AAExCC,UAAAA,OAAO,EAAC;AACJC,YAAAA,OAAO,EAAE,kBADL;AAEJ,4BAAgB;AAFZ,WAFgC;AAMxCC,UAAAA,IAAI,EAACC,IAAI,CAACC,SAAL,CAAe;AAChBC,YAAAA,QAAQ,EAAE,SADM;AAEhBC,YAAAA,SAAS,EAAE,CAAC;AAFI,WAAf;AANmC,SAAvC,CAAL,CAWCC,IAXD,CAWMC,IAAI,IAAIA,IAAI,CAACC,IAAL,EAXd,EAYCF,IAZD,CAYMG,IAAI,IAAI,KAAKC,QAAL,CAAc;AAAC5B,UAAAA,aAAa,EAAE2B,IAAI,CAACE,MAAL,CAAYC,KAA5B;AAAmC3B,UAAAA,MAAM,EAAE;AAA3C,SAAd,CAZd;AAaA;;AACJ;AACI;AA7DR;AA+DH;;AAEDsC,EAAAA,MAAM,GAAE;AACJ,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAK1C,KAAL,CAAWI,MAAX,GACD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKJ,KAAL,CAAWC,aAAX,KAA6B0C,SAA7B,GAAyC,KAAK3C,KAAL,CAAWC,aAAX,CAAyB2C,GAAzB,CAA6BC,KAAK,IAAI,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAEA,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAtC,CAAzC,GAAwG,IAD7G,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAFJ,CADC,GAMD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,CAPJ,CADJ;AAgBH;;AA3FsD","sourcesContent":["import React from \"react\";\nimport Card from './Card'\n\nexport default class CardsContainer extends React.Component{\n    state = {\n        nearestEvents: [],\n        upcomingEvents: [],\n        randomBoroughEvents: [],\n        loaded: false\n    }\n\n    componentDidMount(){\n        switch (this.props.id) {\n            case 1:\n                const options = {\n                    enableHighAccuracy: true,\n                    timeout: 5000,\n                    maximumAge: 0\n                }\n                const success = pos => {\n                    const crd = pos.coords;\n                    fetch(`http://localhost:3000/api/v1/events`,{\n                        method: \"POST\",\n                        headers:{\n                            accepts: \"application/json\",\n                            \"content-type\": \"application/json\"\n                        },\n                        body:JSON.stringify({\n                            latitude: crd.latitude,\n                            longitude: crd.longitude\n                        })\n                    })\n                    .then(resp => resp.json())\n                    .then(data => this.setState({nearestEvents: data.Events.Event.slice(0, 5), loaded: true}))\n                }\n                    \n                const error = err => {\n                    console.warn(`ERROR(${err.code}): ${err.message}`);\n                }\n                \n                navigator.geolocation.getCurrentPosition(success, error, options);\n                break;\n            case 2:\n                fetch(`http://localhost:3000/api/v1/events`,{\n                    method: \"POST\",\n                    headers:{\n                        accepts: \"application/json\",\n                        \"content-type\": \"application/json\"\n                    },\n                    body:JSON.stringify({\n                        latitude: 40.694669,\n                        longitude: -73.9784867\n                    })\n                })\n                .then(resp => resp.json())\n                .then(data => this.setState({nearestEvents: data.Events.Event, loaded: true}))\n                break;\n            case 3:\n                fetch(`http://localhost:3000/api/v1/events`,{\n                    method: \"POST\",\n                    headers:{\n                        accepts: \"application/json\",\n                        \"content-type\": \"application/json\"\n                    },\n                    body:JSON.stringify({\n                        latitude: 40.721952,\n                        longitude: -74.000144\n                    })\n                })\n                .then(resp => resp.json())\n                .then(data => this.setState({nearestEvents: data.Events.Event, loaded: true}))\n                break;\n            default:\n                break;\n        }\n    } \n\n    render(){\n        return (\n            <div>\n                {this.state.loaded ?\n                <div>\n                    {this.state.nearestEvents !== undefined ? this.state.nearestEvents.map(event => <Card event={event}/>) : null}\n                    <p>More info</p>\n                </div>\n                :\n                <div>\n                    <h1>Loading...</h1>\n                </div>\n                    \n            \n                }\n            </div>\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}