{"ast":null,"code":"import _defineProperty from \"/Users/slavaP/Desktop/TTP/stock_portfolio_frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/slavaP/Desktop/TTP/stock_portfolio_frontend/src/Portfolio.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Fragment } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { connect } from 'react-redux';\nimport { setUser } from './redux/actions/user_actions';\n\nclass Portfolio extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      ticker: \"\",\n      quantity: undefined\n    };\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      fetch(\"http://localhost:3000/api/v1/search\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Accept\": \"application/json\"\n        },\n        body: JSON.stringify(_objectSpread({}, this.state, {\n          balance: this.props.currentUser.balance\n        }))\n      }).then(res => res.json()).then(response => {\n        if (response.errors) {\n          alert(response.errors);\n        } else {\n          console.log(response);\n        }\n      });\n    };\n  }\n\n  componentDidMount() {}\n\n  render() {\n    return React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, this.props.currentUser ? React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"portfolio_main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"stocks_info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"buy_info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"buy_form\",\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"form_name\",\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, \"Cash - $\", this.props.currentUser.balance), React.createElement(\"input\", {\n      className: \"input\",\n      style: {\n        margin: \"10px auto\"\n      },\n      type: \"text\",\n      name: \"ticker\",\n      value: this.state.ticker,\n      onChange: this.handleChange,\n      placeholder: \"Ticker\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      className: \"input\",\n      style: {\n        margin: \"10px auto\"\n      },\n      type: \"text\",\n      pattern: \"^[0-9]\",\n      name: \"quantity\",\n      value: this.state.quantity,\n      onChange: this.handleChange,\n      placeholder: \"Qty.\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      className: \"submit_button\",\n      style: {\n        margin: \"10%\"\n      },\n      type: \"submit\",\n      value: \"Buy\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }))))) : React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Loading...\")));\n  }\n\n}\n\nfunction msp(state) {\n  return {\n    currentUser: state.currentUser\n  };\n}\n\nexport default connect(msp, {\n  setUser\n})(Portfolio);","map":{"version":3,"sources":["/Users/slavaP/Desktop/TTP/stock_portfolio_frontend/src/Portfolio.js"],"names":["React","Fragment","Redirect","connect","setUser","Portfolio","Component","state","ticker","quantity","undefined","handleChange","event","setState","target","name","value","handleSubmit","e","preventDefault","fetch","method","headers","body","JSON","stringify","balance","props","currentUser","then","res","json","response","errors","alert","console","log","componentDidMount","render","margin","msp"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,OAAT,QAAwB,8BAAxB;;AAEA,MAAMC,SAAN,SAAwBL,KAAK,CAACM,SAA9B,CAAuC;AAAA;AAAA;AAAA,SACnCC,KADmC,GAC3B;AACJC,MAAAA,MAAM,EAAE,EADJ;AAEJC,MAAAA,QAAQ,EAAEC;AAFN,KAD2B;;AAAA,SAMnCC,YANmC,GAMnBC,KAAD,IAAW;AACtB,WAAKC,QAAL,CAAc;AACZ,SAACD,KAAK,CAACE,MAAN,CAAaC,IAAd,GAAqBH,KAAK,CAACE,MAAN,CAAaE;AADtB,OAAd;AAGH,KAVkC;;AAAA,SAYnCC,YAZmC,GAYnBC,CAAD,IAAO;AAClBA,MAAAA,CAAC,CAACC,cAAF;AACAC,MAAAA,KAAK,CAAC,qCAAD,EAAwC;AAC7CC,QAAAA,MAAM,EAAE,MADqC;AAE7CC,QAAAA,OAAO,EAAE;AACL,0BAAgB,kBADX;AAEL,oBAAU;AAFL,SAFoC;AAM7CC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,mBAAmB,KAAKlB,KAAxB;AAA+BmB,UAAAA,OAAO,EAAE,KAAKC,KAAL,CAAWC,WAAX,CAAuBF;AAA/D;AANuC,OAAxC,CAAL,CAQCG,IARD,CAQMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EARb,EASCF,IATD,CASMG,QAAQ,IAAI;AACd,YAAGA,QAAQ,CAACC,MAAZ,EAAmB;AACfC,UAAAA,KAAK,CAACF,QAAQ,CAACC,MAAV,CAAL;AACH,SAFD,MAEO;AACHE,UAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAZ;AACH;AACJ,OAfD;AAgBH,KA9BkC;AAAA;;AAgCnCK,EAAAA,iBAAiB,GAAE,CAElB;;AAEDC,EAAAA,MAAM,GAAE;AACJ,WACI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKX,KAAL,CAAWC,WAAX,GACG,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAII;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAM,MAAA,SAAS,EAAC,UAAhB;AAA2B,MAAA,QAAQ,EAAE,KAAKX,YAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAG,MAAA,SAAS,EAAC,WAAb;AAAyB,MAAA,KAAK,EAAC,QAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAkD,KAAKU,KAAL,CAAWC,WAAX,CAAuBF,OAAzE,CADA,EAEI;AACI,MAAA,SAAS,EAAC,OADd;AAEI,MAAA,KAAK,EAAE;AAACa,QAAAA,MAAM,EAAE;AAAT,OAFX;AAGI,MAAA,IAAI,EAAC,MAHT;AAII,MAAA,IAAI,EAAC,QAJT;AAKI,MAAA,KAAK,EAAE,KAAKhC,KAAL,CAAWC,MALtB;AAMI,MAAA,QAAQ,EAAE,KAAKG,YANnB;AAOI,MAAA,WAAW,EAAC,QAPhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,EAWI;AACI,MAAA,SAAS,EAAC,OADd;AAEI,MAAA,KAAK,EAAE;AAAC4B,QAAAA,MAAM,EAAE;AAAT,OAFX;AAGI,MAAA,IAAI,EAAC,MAHT;AAII,MAAA,OAAO,EAAE,QAJb;AAKI,MAAA,IAAI,EAAC,UALT;AAMI,MAAA,KAAK,EAAE,KAAKhC,KAAL,CAAWE,QANtB;AAOI,MAAA,QAAQ,EAAE,KAAKE,YAPnB;AAQI,MAAA,WAAW,EAAC,MARhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAXJ,EAqBI;AACI,MAAA,SAAS,EAAC,eADd;AAEI,MAAA,KAAK,EAAE;AAAC4B,QAAAA,MAAM,EAAE;AAAT,OAFX;AAGI,MAAA,IAAI,EAAC,QAHT;AAII,MAAA,KAAK,EAAC,KAJV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MArBJ,CADJ,CAJJ,CADJ,CADH,GAuCG,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAI,MAAA,KAAK,EAAC,QAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,CAxCR,CADJ;AAgDH;;AArFkC;;AAwFvC,SAASC,GAAT,CAAajC,KAAb,EAAmB;AACf,SAAO;AACLqB,IAAAA,WAAW,EAAErB,KAAK,CAACqB;AADd,GAAP;AAGD;;AAED,eAAezB,OAAO,CAACqC,GAAD,EAAM;AAACpC,EAAAA;AAAD,CAAN,CAAP,CAAwBC,SAAxB,CAAf","sourcesContent":["import React, {Fragment} from \"react\";\nimport { Redirect } from \"react-router-dom\"\nimport { connect } from 'react-redux'\nimport { setUser } from './redux/actions/user_actions'\n\nclass Portfolio extends React.Component{\n    state = {\n        ticker: \"\",\n        quantity: undefined\n    }\n\n    handleChange = (event) => {\n        this.setState({\n          [event.target.name]: event.target.value\n        })\n    }\n\n    handleSubmit = (e) => {\n        e.preventDefault()\n        fetch(\"http://localhost:3000/api/v1/search\", {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            \"Accept\": \"application/json\"\n        },\n        body: JSON.stringify({...this.state, balance: this.props.currentUser.balance})\n        })\n        .then(res => res.json())\n        .then(response => {\n            if(response.errors){\n                alert(response.errors)\n            } else {\n                console.log(response)\n            }\n        })\n    }\n\n    componentDidMount(){\n\n    }\n\n    render(){\n        return (\n            <Fragment>\n                {this.props.currentUser?\n                    <Fragment>\n                        <div className=\"portfolio_main\">\n                            <div className=\"stocks_info\">\n                            \n                            </div>\n                            <div className=\"buy_info\">\n                                <form className=\"buy_form\" onSubmit={this.handleSubmit}>\n                                <p className=\"form_name\" align=\"center\" >Cash - ${this.props.currentUser.balance}</p>\n                                    <input \n                                        className=\"input\"\n                                        style={{margin: \"10px auto\"}}\n                                        type=\"text\" \n                                        name=\"ticker\" \n                                        value={this.state.ticker} \n                                        onChange={this.handleChange} \n                                        placeholder=\"Ticker\" \n                                    />\n                                    <input \n                                        className=\"input\"\n                                        style={{margin: \"10px auto\"}} \n                                        type=\"text\" \n                                        pattern= \"^[0-9]\"\n                                        name=\"quantity\" \n                                        value={this.state.quantity} \n                                        onChange={this.handleChange} \n                                        placeholder=\"Qty.\" \n                                    />\n                                    <input \n                                        className=\"submit_button\" \n                                        style={{margin: \"10%\"}}\n                                        type=\"submit\" \n                                        value=\"Buy\" \n                                    />\n                                </form>\n                            </div>\n                        </div>\n                    </Fragment>\n                    :\n                    <Fragment>\n                        <h1 align=\"center\">Loading...</h1>\n                    </Fragment>\n\n                }\n            </Fragment>\n        );\n    }\n}\n\nfunction msp(state){\n    return {\n      currentUser: state.currentUser\n    }\n  }\n  \n  export default connect(msp, {setUser})(Portfolio)\n"]},"metadata":{},"sourceType":"module"}