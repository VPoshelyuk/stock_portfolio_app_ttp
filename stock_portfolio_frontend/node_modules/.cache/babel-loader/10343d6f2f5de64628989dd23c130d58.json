{"ast":null,"code":"var _jsxFileName = \"/Users/slavaP/Desktop/TTP/stock_portfolio_frontend/src/StocksContainer.js\";\nimport React, { Fragment } from \"react\";\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { setUser, updatePortfolio, updateTransactions } from './redux/actions/user_actions';\nimport Noty from 'noty';\nimport \"../node_modules/noty/lib/noty.css\";\nimport \"../node_modules/noty/lib/themes/mint.css\";\nimport Stock from \"./Stock\";\n\nclass StocksContainer extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loaded: false\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.mode === \"portfolio\") {\n      fetch(\"http://localhost:3000/api/v1/user_all\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Accept\": \"application/json\"\n        },\n        body: JSON.stringify({\n          user_id: this.props.currentUser.id\n        })\n      }).then(res => res.json()).then(response => {\n        console.log(response);\n\n        if (response.error) {\n          new Noty({\n            text: `${response.error}`,\n            layout: \"bottomRight\",\n            type: \"alert\",\n            timeout: 5000,\n            progressBar: false,\n            closeWith: [\"click\", \"button\"]\n          }).show();\n        } else {\n          this.props.updatePortfolio(response);\n          this.setState({\n            loaded: true\n          });\n        }\n      });\n    } else if (this.props.mode === \"transactions\") {\n      fetch(\"http://localhost:3000/api/v1/user_recent\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          \"Accept\": \"application/json\"\n        },\n        body: JSON.stringify({\n          user_id: this.props.currentUser.id\n        })\n      }).then(res => res.json()).then(response => {\n        console.log(response);\n\n        if (response.error) {\n          new Noty({\n            text: `${response.error}`,\n            layout: \"bottomRight\",\n            type: \"alert\",\n            timeout: 5000,\n            progressBar: false,\n            closeWith: [\"click\", \"button\"]\n          }).show();\n        } else {\n          this.props.updateTransactions(response);\n          this.setState({\n            loaded: true\n          });\n        }\n      });\n    }\n  }\n\n  render() {\n    console.log(this.props);\n    return React.createElement(\"div\", {\n      className: \"stock_container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, this.state.loaded ? React.createElement(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, this.props.mode === \"portfolio\" ? this.props.portfolio.map(stock => React.createElement(Stock, {\n      key: stock.ticker,\n      stock: stock,\n      mode: this.props.mode,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    })) : this.props.transactions.map(stock => React.createElement(Stock, {\n      key: `${stock.ticker}-${stock.created_at}`,\n      stock: stock,\n      mode: this.props.mode,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }))) : React.createElement(\"h1\", {\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Loading...\"));\n  }\n\n}\n\nfunction msp(state) {\n  return {\n    currentUser: state.currentUser,\n    portfolio: state.portfolio,\n    transactions: state.transactions\n  };\n}\n\nexport default connect(msp, {\n  setUser,\n  updatePortfolio,\n  updateTransactions\n})(StocksContainer);","map":{"version":3,"sources":["/Users/slavaP/Desktop/TTP/stock_portfolio_frontend/src/StocksContainer.js"],"names":["React","Fragment","Redirect","connect","setUser","updatePortfolio","updateTransactions","Noty","Stock","StocksContainer","Component","state","loaded","componentDidMount","props","mode","fetch","method","headers","body","JSON","stringify","user_id","currentUser","id","then","res","json","response","console","log","error","text","layout","type","timeout","progressBar","closeWith","show","setState","render","portfolio","map","stock","ticker","transactions","created_at","msp"],"mappings":"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","sourcesContent":["import React, {Fragment} from \"react\";\nimport { Redirect } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport { setUser, updatePortfolio, updateTransactions } from './redux/actions/user_actions'\n\nimport Noty from 'noty';  \nimport \"../node_modules/noty/lib/noty.css\";  \nimport \"../node_modules/noty/lib/themes/mint.css\";\nimport Stock from \"./Stock\";\n\nclass StocksContainer extends React.Component{\n    state = {\n        loaded: false\n    }\n    componentDidMount(){\n        if(this.props.mode === \"portfolio\"){\n            fetch(\"http://localhost:3000/api/v1/user_all\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Accept\": \"application/json\"\n                },\n                body: JSON.stringify({user_id: this.props.currentUser.id})\n            })\n            .then(res => res.json())\n            .then(response => {\n                console.log(response)\n                if(response.error){\n                    new Noty({  \n                        text: `${response.error}`,\n                        layout: \"bottomRight\",\n                        type: \"alert\",\n                        timeout: 5000,\n                        progressBar: false,\n                        closeWith: [\"click\", \"button\"]\n                    }).show()\n                } else {\n                    this.props.updatePortfolio(response)\n                    this.setState({\n                        loaded: true\n                    })\n                }\n            })\n        }else if(this.props.mode === \"transactions\"){\n            fetch(\"http://localhost:3000/api/v1/user_recent\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Accept\": \"application/json\"\n                },\n                body: JSON.stringify({user_id: this.props.currentUser.id})\n            })\n            .then(res => res.json())\n            .then(response => {\n                console.log(response)\n                if(response.error){\n                    new Noty({  \n                        text: `${response.error}`,\n                        layout: \"bottomRight\",\n                        type: \"alert\",\n                        timeout: 5000,\n                        progressBar: false,\n                        closeWith: [\"click\", \"button\"]\n                    }).show()\n                } else {\n                    this.props.updateTransactions(response)\n                    this.setState({\n                        loaded: true\n                    })\n                }\n            })\n        }\n    }\n\n    render(){\n        console.log(this.props)\n        return (\n        <div className=\"stock_container\">\n            {this.state.loaded?\n                <Fragment>\n                    {this.props.mode === \"portfolio\" ?\n                        this.props.portfolio.map(stock => <Stock key={stock.ticker} stock={stock} mode={this.props.mode}/>)\n                        :\n                        this.props.transactions.map(stock => <Stock key={`${stock.ticker}-${stock.created_at}`} stock={stock} mode={this.props.mode}/>)\n\n                    }\n                </Fragment>\n                :\n                <h1 align=\"center\">Loading...</h1>\n            }\n        </div>\n        );\n    }\n}\n\nfunction msp(state){\n    return {\n      currentUser: state.currentUser,\n      portfolio: state.portfolio,\n      transactions: state.transactions\n    }\n}\n\nexport default connect(msp, { setUser, updatePortfolio, updateTransactions })(StocksContainer)"]},"metadata":{},"sourceType":"module"}